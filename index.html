<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù…ÙˆÙ„Ø¯ Ø§Ø®ØªØ¨Ø§Ø± ØªÙØ§Ø¹Ù„ÙŠ | Ø£. Ø¥ÙŠÙ‡Ø§Ø¨ Ø£Ø´Ø±Ù</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');

body{
  margin:0;
  background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  font-family:'Cairo',sans-serif;
  color:#fff;
}

.container{
  max-width:900px;
  margin:auto;
  padding:20px;
}

h1{
  text-align:center;
  margin-bottom:15px;
}

textarea{
  width:100%;
  height:220px;
  border-radius:16px;
  border:none;
  padding:15px;
  font-size:16px;
  margin-bottom:15px;
  resize:none;
}

button{
  width:100%;
  padding:16px;
  border:none;
  border-radius:16px;
  font-size:18px;
  background:#ffd369;
  cursor:pointer;
  transition:.3s;
}

button:hover{
  background:#ffbe33;
  transform:scale(1.02);
}

.quiz-box{
  margin-top:25px;
  background:rgba(0,0,0,.45);
  padding:25px;
  border-radius:22px;
}

#question{
  font-size:20px;
  margin-bottom:20px;
  min-height:60px;
}

.option{
  background:rgba(255,255,255,.12);
  padding:14px;
  border-radius:14px;
  margin:10px 0;
  cursor:pointer;
  transition:.3s;
}

.option:hover{
  background:#ffd369;
  color:#000;
}

.stats{
  display:flex;
  justify-content:space-between;
  margin-top:20px;
  opacity:.85;
}

.hidden{
  display:none;
}

.footer{
  text-align:center;
  margin-top:30px;
  font-size:14px;
  opacity:.6;
}
</style>
</head>

<body>

<div class="container">

<h1>ğŸ§  Ù…ÙˆÙ„Ø¯ Ø§Ø®ØªØ¨Ø§Ø± ØªÙØ§Ø¹Ù„ÙŠ</h1>

<textarea id="input">
Ø³: Ø¨ÙÙ†ÙŠØª Ø§Ù„Ø£Ù‡Ø±Ø§Ù…Ø§Øª ÙÙŠ Ø¹ØµØ±ØŸ
A) Ø§Ù„Ø¯ÙˆÙ„Ø© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
B) Ø§Ù„Ø¯ÙˆÙ„Ø© Ø§Ù„ÙˆØ³Ø·Ù‰
C) Ø§Ù„Ø¯ÙˆÙ„Ø© Ø§Ù„Ø­Ø¯ÙŠØ«Ø©
D) Ø§Ù„Ø¹ØµØ± Ø§Ù„Ø¨Ø·Ù„Ù…ÙŠ
Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©: A
</textarea>

<button onclick="generateQuiz()">ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ø®ØªØ¨Ø§Ø± ğŸš€</button>

<div id="quiz" class="quiz-box hidden">
  <div id="question"></div>
  <div id="options"></div>

  <div class="stats">
    <span>Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª: <b id="correct">0</b></span>
    <span>Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª: <b id="attempts">0</b></span>
  </div>
</div>

<div class="footer">
  ØªØµÙ…ÙŠÙ… ÙˆØªØ·ÙˆÙŠØ± Â© Ø£. Ø¥ÙŠÙ‡Ø§Ø¨ Ø£Ø´Ø±Ù
</div>

</div>

<script>
let questions = [];
let current = 0;
let correct = 0;
let attempts = 0;

function generateQuiz(){
  const text = document.getElementById("input").value.trim();
  const blocks = text.split("\n\n");
  questions = [];
  current = 0;
  correct = 0;
  attempts = 0;

  blocks.forEach(block=>{
    const lines = block.split("\n");
    if(lines.length >= 6){
      questions.push({
        q: lines[0].replace("Ø³:","").trim(),
        options: lines.slice(1,5).map(l=>l.slice(3).trim()),
        answer: lines[5].split(":")[1].trim()
      });
    }
  });

  if(!questions.length){
    alert("Ù…Ù† ÙØ¶Ù„Ùƒ ØªØ£ÙƒØ¯ Ù…Ù† ØµÙŠØºØ© Ø§Ù„Ø£Ø³Ø¦Ù„Ø©");
    return;
  }

  document.getElementById("quiz").classList.remove("hidden");
  updateStats();
  showQuestion();
}

function showQuestion(){
  const q = questions[current];
  document.getElementById("question").innerText = q.q;
  const optionsDiv = document.getElementById("options");
  optionsDiv.innerHTML = "";

  q.options.forEach((opt,index)=>{
    const div = document.createElement("div");
    div.className = "option";
    div.innerText = opt;
    div.onclick = ()=>checkAnswer(index);
    optionsDiv.appendChild(div);
  });
}

function checkAnswer(index){
  const q = questions[current];
  const correctIndex = "ABCD".indexOf(q.answer);
  attempts++;
  if(index === correctIndex) correct++;

  updateStats();
  current++;

  if(current < questions.length){
    showQuestion();
  }else{
    alert("ğŸ‰ ØªÙ… Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ Ù…Ù† Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±");
  }
}

function updateStats(){
  document.getElementById("correct").innerText = correct;
  document.getElementById("attempts").innerText = attempts;
}
</script>

</body>
</html>
