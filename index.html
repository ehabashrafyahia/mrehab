<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù„Ø­Ù…Ø© Ø§Ù„ØªØ§Ø±ÙŠØ®: Ù…Ù† Ø³ÙŠØ±Ø¨Ø­ Ø§Ù„ÙƒÙ†Ø²ØŸ</title>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Reem+Kufi:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --gold-primary: #d4af37;
            --gold-light: #f9d77e;
            --dark-bg: #0f0e0b;
            --panel-bg: #1a1510;
            --text-color: #f0e6d2;
            --correct: #2ecc71;
            --wrong: #c0392b;
            --border-style: 2px solid var(--gold-primary);
        }

        * {
            box-sizing: border-box;
            user-select: none;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Amiri', serif;
            background-color: var(--dark-bg);
            /* Ø®Ù„ÙÙŠØ© Ù…Ø²Ø®Ø±ÙØ© Ø®ÙÙŠÙØ© */
            background-image: radial-gradient(circle at center, #2c241b 0%, #050505 100%);
            color: var(--text-color);
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        /* Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
        .game-container {
            width: 90%;
            max-width: 1000px;
            height: 90vh;
            display: grid;
            grid-template-columns: 3fr 1fr;
            gap: 20px;
            border: 4px double var(--gold-primary);
            padding: 20px;
            background: rgba(20, 15, 10, 0.9);
            box-shadow: 0 0 50px rgba(212, 175, 55, 0.2);
            position: relative;
        }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù„Ø¹Ø¨ (Ø§Ù„Ø³Ø¤Ø§Ù„ ÙˆØ§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª) */
        .play-area {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 30px;
        }

        /* ØªØµÙ…ÙŠÙ… Ø§Ù„Ø³Ø¤Ø§Ù„ */
        .question-box {
            background: linear-gradient(180deg, #2b2116 0%, #1a120b 100%);
            border: 2px solid var(--gold-primary);
            padding: 30px;
            width: 100%;
            text-align: center;
            font-size: 1.8rem;
            font-weight: bold;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
            position: relative;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* Ø²Ø®Ø±ÙØ© Ø¬Ø§Ù†Ø¨ÙŠØ© Ù„Ù„Ø³Ø¤Ø§Ù„ */
        .question-box::before, .question-box::after {
            content: 'âœ¦';
            color: var(--gold-primary);
            font-size: 2rem;
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
        }
        .question-box::before { left: 15px; }
        .question-box::after { right: 15px; }

        /* Ø´Ø¨ÙƒØ© Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª */
        .answers-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            width: 100%;
        }

        .answer-btn {
            background: transparent;
            border: 1px solid var(--gold-primary);
            color: var(--gold-light);
            padding: 20px;
            font-size: 1.4rem;
            font-family: 'Amiri', serif;
            cursor: pointer;
            position: relative;
            transition: all 0.3s ease;
            clip-path: polygon(10% 0, 100% 0, 100% 100%, 0% 100%, 0% 20%); /* Ø´ÙƒÙ„ Ù…Ø´Ø·ÙˆÙ */
            text-align: right;
            padding-right: 40px;
        }

        .answer-btn:hover:not([disabled]) {
            background: rgba(212, 175, 55, 0.2);
            box-shadow: 0 0 15px var(--gold-primary);
        }

        /* Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© */
        .answer-btn.selected { background: #d35400; color: white; border-color: #e67e22; }
        .answer-btn.correct { background: var(--correct); color: white; border-color: #27ae60; animation: pulse 1s infinite; }
        .answer-btn.wrong { background: var(--wrong); color: white; border-color: #c0392b; }
        
        /* Ø³Ù„Ù… Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ */
        .money-ladder {
            background: rgba(0,0,0,0.6);
            border-right: 2px solid var(--gold-primary);
            padding: 10px;
            display: flex;
            flex-direction: column-reverse;
            justify-content: center;
            align-items: center;
            gap: 5px;
        }

        .ladder-step {
            width: 100%;
            padding: 8px;
            text-align: center;
            color: #888;
            font-family: 'Reem Kufi', sans-serif;
            border-bottom: 1px solid #333;
            transition: 0.3s;
        }

        .ladder-step.active {
            color: var(--gold-light);
            background: linear-gradient(90deg, transparent, rgba(212, 175, 55, 0.3), transparent);
            font-weight: bold;
            font-size: 1.2rem;
            border: 1px solid var(--gold-primary);
        }

        .ladder-step.passed {
            color: var(--gold-primary);
        }

        /* ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© */
        .lifelines {
            position: absolute;
            top: -60px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 20px;
        }

        .lifeline-btn {
            background: #2c241b;
            border: 2px solid var(--gold-primary);
            color: var(--gold-light);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: 0.3s;
            box-shadow: 0 0 10px rgba(0,0,0,0.8);
        }

        .lifeline-btn:hover { transform: scale(1.1); box-shadow: 0 0 20px var(--gold-primary); }
        .lifeline-btn:disabled { filter: grayscale(1); opacity: 0.5; cursor: not-allowed; }

        /* Ø´Ø§Ø´Ø© Ø§Ù„Ù†Ù‡Ø§ÙŠØ© */
        .overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 100;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .overlay h1 { font-size: 4rem; color: var(--gold-primary); margin-bottom: 20px; }
        .overlay p { font-size: 2rem; margin-bottom: 30px; }
        .restart-btn {
            padding: 15px 40px;
            font-size: 1.5rem;
            background: var(--gold-primary);
            color: var(--dark-bg);
            border: none;
            font-family: 'Amiri', serif;
            font-weight: bold;
            cursor: pointer;
            border-radius: 5px;
        }

        /* Ø§Ù„ØªØ¬Ø§ÙˆØ¨ Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
        @media (max-width: 768px) {
            .game-container { grid-template-columns: 1fr; height: 95vh; padding-top: 50px; }
            .money-ladder { display: none; } /* Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø³Ù„Ù… ÙÙŠ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ Ù„Ù„ØªØ¨Ø³ÙŠØ· */
            .answers-grid { grid-template-columns: 1fr; }
            .question-box { font-size: 1.2rem; min-height: 100px; }
            .lifelines { top: 10px; width: 100%; justify-content: center; }
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(46, 204, 113, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(46, 204, 113, 0); }
            100% { box-shadow: 0 0 0 0 rgba(46, 204, 113, 0); }
        }
    </style>
</head>
<body>

    <div class="lifelines">
        <button class="lifeline-btn" onclick="useLifeline('5050')" id="btn-5050" title="Ø­Ø°Ù Ø¥Ø¬Ø§Ø¨ØªÙŠÙ†">50:50</button>
        <button class="lifeline-btn" onclick="useLifeline('skip')" id="btn-skip" title="ØªØºÙŠÙŠØ± Ø§Ù„Ø³Ø¤Ø§Ù„">â†»</button>
    </div>

    <div class="game-container">
        <div class="play-area">
            <div class="question-box" id="question-text">
                Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø®Ø·ÙˆØ·Ø©...
            </div>
            
            <div class="answers-grid">
                <button class="answer-btn" onclick="selectAnswer(0)" id="opt-0">Ø£. Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø£ÙˆÙ„</button>
                <button class="answer-btn" onclick="selectAnswer(1)" id="opt-1">Ø¨. Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø«Ø§Ù†ÙŠ</button>
                <button class="answer-btn" onclick="selectAnswer(2)" id="opt-2">Ø¬. Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø«Ø§Ù„Ø«</button>
                <button class="answer-btn" onclick="selectAnswer(3)" id="opt-3">Ø¯. Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø±Ø§Ø¨Ø¹</button>
            </div>
        </div>

        <div class="money-ladder" id="ladder">
            </div>
    </div>

    <div class="overlay" id="end-screen">
        <h1 id="end-title">Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø±Ø­Ù„Ø©</h1>
        <p>Ù„Ù‚Ø¯ Ø­ØµÙ„Øª Ø¹Ù„Ù‰ ÙƒÙ†Ø² Ø¨Ù‚ÙŠÙ…Ø©: <span id="final-score" style="color: var(--gold-primary)">0</span> Ø¯ÙŠÙ†Ø§Ø±</p>
        <button class="restart-btn" onclick="restartGame()">Ø§Ø¨Ø¯Ø£ Ø±Ø­Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>
    </div>

    <script>
        // === Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø© ===
        const prizes = [100, 200, 300, 500, 1000, 2000, 4000, 8000, 16000, 32000, 64000, 125000, 250000, 500000, 1000000];
        
        // Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø¦Ù„Ø© (ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø²ÙŠØ¯ Ù‡Ù†Ø§)
        const questionsDB = [
            { q: "Ù…Ù† Ù‡Ùˆ Ø§Ù„Ù‚Ø§Ø¦Ø¯ Ø§Ù„Ù…Ø³Ù„Ù… Ø§Ù„Ø°ÙŠ ÙØªØ­ Ø§Ù„Ù‚Ø³Ø·Ù†Ø·ÙŠÙ†ÙŠØ©ØŸ", options: ["ØµÙ„Ø§Ø­ Ø§Ù„Ø¯ÙŠÙ† Ø§Ù„Ø£ÙŠÙˆØ¨ÙŠ", "Ù…Ø­Ù…Ø¯ Ø§Ù„ÙØ§ØªØ­", "Ø®Ø§Ù„Ø¯ Ø¨Ù† Ø§Ù„ÙˆÙ„ÙŠØ¯", "Ø§Ù„Ø¸Ø§Ù‡Ø± Ø¨ÙŠØ¨Ø±Ø³"], answer: 1 },
            { q: "ÙÙŠ Ø£ÙŠ Ø¹Ø§Ù… Ø­Ø¯Ø«Øª Ù…Ø¹Ø±ÙƒØ© Ø­Ø·ÙŠÙ† Ø§Ù„Ø´Ù‡ÙŠØ±Ø©ØŸ", options: ["1187 Ù…", "1099 Ù…", "1250 Ù…", "1453 Ù…"], answer: 0 },
            { q: "Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© Ø§Ù„Ø¯ÙˆÙ„Ø© Ø§Ù„Ø£Ù…ÙˆÙŠØ©ØŸ", options: ["Ø¨ØºØ¯Ø§Ø¯", "Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©", "Ø¯Ù…Ø´Ù‚", "Ù‚Ø±Ø·Ø¨Ø©"], answer: 2 },
            { q: "Ù…Ù† Ù‡Ùˆ Ù…Ø¤Ø³Ø³ Ø¹Ù„Ù… Ø§Ù„Ø¬Ø¨Ø±ØŸ", options: ["Ø§Ø¨Ù† Ø³ÙŠÙ†Ø§", "Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠ", "Ø§Ù„ÙØ§Ø±Ø§Ø¨ÙŠ", "Ø§Ø¨Ù† Ø§Ù„Ù‡ÙŠØ«Ù…"], answer: 1 },
            { q: "ÙƒÙ… Ø§Ø³ØªÙ…Ø±Øª Ø­Ø±Ø¨ Ø§Ù„Ø¨Ø³ÙˆØ³ØŸ", options: ["10 Ø³Ù†ÙˆØ§Øª", "20 Ø³Ù†Ø©", "40 Ø³Ù†Ø©", "100 Ø³Ù†Ø©"], answer: 2 },
            { q: "Ù…Ù† Ø¨Ù†Ù‰ Ù‚Ø¨Ø© Ø§Ù„ØµØ®Ø±Ø© Ø§Ù„Ù…Ø´Ø±ÙØ©ØŸ", options: ["Ø¹Ø¨Ø¯ Ø§Ù„Ù…Ù„Ùƒ Ø¨Ù† Ù…Ø±ÙˆØ§Ù†", "Ø§Ù„ÙˆÙ„ÙŠØ¯ Ø¨Ù† Ø¹Ø¨Ø¯ Ø§Ù„Ù…Ù„Ùƒ", "Ø¹Ù…Ø± Ø¨Ù† Ø§Ù„Ø®Ø·Ø§Ø¨", "Ù‡Ø§Ø±ÙˆÙ† Ø§Ù„Ø±Ø´ÙŠØ¯"], answer: 0 },
            { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ù‚Ø¯ÙŠÙ… Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©ØŸ", options: ["Ù…ÙƒØ©", "ÙŠØ«Ø±Ø¨", "Ø§Ù„Ø·Ø§Ø¦Ù", "Ø®ÙŠØ¨Ø±"], answer: 1 },
            { q: "Ù…Ù† Ù‡Ùˆ Ø§Ù„Ù…Ù„Ù‚Ø¨ Ø¨Ø£Ø³Ø¯ Ø§Ù„Ù„Ù‡ØŸ", options: ["Ø­Ù…Ø²Ø© Ø¨Ù† Ø¹Ø¨Ø¯ Ø§Ù„Ù…Ø·Ù„Ø¨", "Ø¹Ù…Ø± Ø¨Ù† Ø§Ù„Ø®Ø·Ø§Ø¨", "Ø¹Ù„ÙŠ Ø¨Ù† Ø£Ø¨ÙŠ Ø·Ø§Ù„Ø¨", "Ø®Ø§Ù„Ø¯ Ø¨Ù† Ø§Ù„ÙˆÙ„ÙŠØ¯"], answer: 0 },
            { q: "Ø£ÙŠÙ† ØªÙ‚Ø¹ Ø­Ø¯Ø§Ø¦Ù‚ Ø¨Ø§Ø¨Ù„ Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©ØŸ", options: ["Ù…ØµØ±", "Ø§Ù„Ø¹Ø±Ø§Ù‚", "Ø³ÙˆØ±ÙŠØ§", "Ø§Ù„Ø£Ø±Ø¯Ù†"], answer: 1 },
            { q: "Ù…Ù† Ù‡Ùˆ Ù…Ø¤Ù„Ù ÙƒØªØ§Ø¨ 'Ù…Ù‚Ø¯Ù…Ø© Ø§Ø¨Ù† Ø®Ù„Ø¯ÙˆÙ†'ØŸ", options: ["Ø§Ø¨Ù† Ø¨Ø·ÙˆØ·Ø©", "Ø§Ø¨Ù† Ø®Ù„Ø¯ÙˆÙ†", "Ø§Ù„Ù…Ù‚Ø±ÙŠØ²ÙŠ", "Ø§Ù„Ø·Ø¨Ø±ÙŠ"], answer: 1 },
            { q: "Ù…Ø§ Ù‡ÙŠ Ø£ÙˆÙ„ Ø¹Ø§ØµÙ…Ø© Ù„Ù…ØµØ± Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©ØŸ", options: ["Ø§Ù„Ù‚Ø·Ø§Ø¦Ø¹", "Ø§Ù„Ø¹Ø³ÙƒØ±", "Ø§Ù„ÙØ³Ø·Ø§Ø·", "Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©"], answer: 2 },
            { q: "Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ø¯ Ø§Ù„Ø°ÙŠ Ø£Ø­Ø±Ù‚ Ø³ÙÙ†Ù‡ Ø¨Ø¹Ø¯ Ø¹Ø¨ÙˆØ± Ø§Ù„Ù…Ø¶ÙŠÙ‚ØŸ", options: ["Ø·Ø§Ø±Ù‚ Ø¨Ù† Ø²ÙŠØ§Ø¯", "Ù…ÙˆØ³Ù‰ Ø¨Ù† Ù†ØµÙŠØ±", "Ø¹Ù‚Ø¨Ø© Ø¨Ù† Ù†Ø§ÙØ¹", "Ø¹Ù…Ø±Ùˆ Ø¨Ù† Ø§Ù„Ø¹Ø§Øµ"], answer: 0 },
            { q: "ÙÙŠ Ø£ÙŠ Ø¹Ù‡Ø¯ ØªÙ… Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø£Ù‡Ø±Ø§Ù…Ø§ØªØŸ", options: ["Ø§Ù„Ø¯ÙˆÙ„Ø© Ø§Ù„Ø­Ø¯ÙŠØ«Ø©", "Ø§Ù„Ø¯ÙˆÙ„Ø© Ø§Ù„ÙˆØ³Ø·Ù‰", "Ø§Ù„Ø¯ÙˆÙ„Ø© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©", "Ø§Ù„Ø¹ØµØ± Ø§Ù„Ù…ØªØ£Ø®Ø±"], answer: 2 },
            { q: "Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ù…Ø¹Ø±ÙƒØ© Ø§Ù„ØªÙŠ Ø£ÙˆÙ‚ÙØª Ø§Ù„Ø²Ø­Ù Ø§Ù„Ù…ØºÙˆÙ„ÙŠØŸ", options: ["Ø­Ø·ÙŠÙ†", "Ø¹ÙŠÙ† Ø¬Ø§Ù„ÙˆØª", "Ø§Ù„ÙŠØ±Ù…ÙˆÙƒ", "Ø§Ù„Ù‚Ø§Ø¯Ø³ÙŠØ©"], answer: 1 },
            { q: "Ù…Ù† Ù‡Ùˆ Ø§Ù„ÙØ±Ø¹ÙˆÙ† Ø§Ù„Ø°ÙŠ ÙˆÙ‚Ø¹ Ø£ÙˆÙ„ Ù…Ø¹Ø§Ù‡Ø¯Ø© Ø³Ù„Ø§Ù… ÙÙŠ Ø§Ù„ØªØ§Ø±ÙŠØ®ØŸ", options: ["Ø±Ù…Ø³ÙŠØ³ Ø§Ù„Ø«Ø§Ù†ÙŠ", "ØªØ­ØªÙ…Ø³ Ø§Ù„Ø«Ø§Ù„Ø«", "Ø£Ø®Ù†Ø§ØªÙˆÙ†", "ØªÙˆØª Ø¹Ù†Ø® Ø¢Ù…ÙˆÙ†"], answer: 0 }
        ];

        // === Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø­Ø§Ù„Ø© ===
        let currentLevel = 0;
        let isAnswerLocked = false;
        
        // === ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© ===
        function initGame() {
            renderLadder();
            loadQuestion();
        }

        // Ø±Ø³Ù… Ø³Ù„Ù… Ø§Ù„Ø¬ÙˆØ§Ø¦Ø²
        function renderLadder() {
            const ladderEl = document.getElementById('ladder');
            ladderEl.innerHTML = '';
            // Ù†Ø¹ÙƒØ³ Ø§Ù„Ù…ØµÙÙˆÙØ© Ù„Ø£Ù† Ø§Ù„Ø³Ù„Ù… ÙŠØ¨Ø¯Ø£ Ù…Ù† Ø§Ù„Ø£Ø³ÙÙ„
            [...prizes].reverse().forEach((prize, index) => {
                const realIndex = prizes.length - 1 - index;
                const div = document.createElement('div');
                div.className = `ladder-step ${realIndex === currentLevel ? 'active' : ''} ${realIndex < currentLevel ? 'passed' : ''}`;
                div.innerHTML = `<span style="float:right">${realIndex + 1}</span> ${prize.toLocaleString()} ğŸª™`;
                ladderEl.appendChild(div);
            });
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø­Ø§Ù„ÙŠ
        function loadQuestion() {
            // Ø¥Ø¹Ø§Ø¯Ø© ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø£Ø²Ø±Ø§Ø± ÙˆØªÙ†Ù†Ø¸ÙŠÙ Ø§Ù„Ø£Ù„ÙˆØ§Ù†
            isAnswerLocked = false;
            const qData = questionsDB[currentLevel];
            
            document.getElementById('question-text').innerText = qData.q;
            
            for(let i=0; i<4; i++) {
                const btn = document.getElementById(`opt-${i}`);
                btn.innerText = ["Ø£", "Ø¨", "Ø¬", "Ø¯"][i] + ". " + qData.options[i];
                btn.className = 'answer-btn'; // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ÙƒÙ„Ø§Ø³ Ù„Ù„Ø£ØµÙ„
                btn.disabled = false;
                btn.style.opacity = '1';
            }
            
            renderLadder();
        }

        // Ø§Ø®ØªÙŠØ§Ø± Ø¥Ø¬Ø§Ø¨Ø©
        function selectAnswer(index) {
            if (isAnswerLocked) return;
            isAnswerLocked = true;
            
            const btn = document.getElementById(`opt-${index}`);
            btn.classList.add('selected');

            // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„ØªÙˆØªØ± (Ø§Ù†ØªØ¸Ø§Ø± 2 Ø«Ø§Ù†ÙŠØ©)
            setTimeout(() => {
                checkAnswer(index);
            }, 2000);
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
        function checkAnswer(selectedIndex) {
            const correctIndex = questionsDB[currentLevel].answer;
            const selectedBtn = document.getElementById(`opt-${selectedIndex}`);
            const correctBtn = document.getElementById(`opt-${correctIndex}`);

            selectedBtn.classList.remove('selected');

            if (selectedIndex === correctIndex) {
                // Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©
                selectedBtn.classList.add('correct');
                // ØµÙˆØª Ù†Ø¬Ø§Ø­ (ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØªÙ‡ Ù‡Ù†Ø§)
                setTimeout(() => {
                    if (currentLevel < prizes.length - 1) {
                        currentLevel++;
                        loadQuestion();
                    } else {
                        endGame(true);
                    }
                }, 2000);
            } else {
                // Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©
                selectedBtn.classList.add('wrong');
                correctBtn.classList.add('correct'); // ÙƒØ´Ù Ø§Ù„ØµØ­ÙŠØ­Ø©
                setTimeout(() => {
                    endGame(false);
                }, 2500);
            }
        }

        // ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©
        function useLifeline(type) {
            const btn = document.getElementById(`btn-${type}`);
            if(btn.disabled || isAnswerLocked) return;
            
            btn.disabled = true;
            const correctIndex = questionsDB[currentLevel].answer;

            if (type === '5050') {
                // Ø­Ø°Ù Ø¥Ø¬Ø§Ø¨ØªÙŠÙ† Ø®Ø§Ø·Ø¦ØªÙŠÙ†
                let removedCount = 0;
                let optionsToCheck = [0, 1, 2, 3].filter(i => i !== correctIndex);
                
                // Ø®Ù„Ø· Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø®Ø§Ø·Ø¦Ø©
                optionsToCheck.sort(() => Math.random() - 0.5);

                // Ø¥Ø®ÙØ§Ø¡ Ø£ÙˆÙ„ 2
                optionsToCheck.slice(0, 2).forEach(idx => {
                    document.getElementById(`opt-${idx}`).style.opacity = '0';
                    document.getElementById(`opt-${idx}`).disabled = true;
                });
            } else if (type === 'skip') {
                // ØªØ®Ø·ÙŠ Ø§Ù„Ø³Ø¤Ø§Ù„ (Ø§Ø³ØªØ¨Ø¯Ø§Ù„Ù‡ Ø¨Ø³Ø¤Ø§Ù„ Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ø¢Ø®Ø± - Ù„Ù„ØªØ¨Ø³ÙŠØ· Ø³Ù†Ù‚ÙˆÙ… Ø¨Ø§Ù„ÙÙˆØ² ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø³Ø¤Ø§Ù„)
                // ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ Ø­Ù‚ÙŠÙ‚ÙŠ ÙŠØ¬Ø¨ Ø¬Ù„Ø¨ Ø³Ø¤Ø§Ù„ Ø¨Ø¯ÙŠÙ„ Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                document.getElementById(`opt-${correctIndex}`).classList.add('correct');
                setTimeout(() => {
                    currentLevel++;
                    loadQuestion();
                }, 1500);
            }
        }

        // Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
        function endGame(isWinner) {
            const screen = document.getElementById('end-screen');
            const title = document.getElementById('end-title');
            const scoreDisplay = document.getElementById('final-score');
            
            screen.style.display = 'flex';
            
            let prizeAmount = 0;
            if (isWinner) {
                title.innerText = "â˜… Ø£Ù†Øª Ø£Ø³Ø·ÙˆØ±Ø© Ø§Ù„ØªØ§Ø±ÙŠØ® â˜…";
                title.style.color = "#ffd700";
                prizeAmount = prizes[14];
            } else {
                title.innerText = "Ø³Ù‚Ø·Øª Ø§Ù„Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ±ÙŠØ©";
                title.style.color = "#c0392b";
                // Ø­Ø³Ø§Ø¨ Ù…Ø¨Ù„Øº Ø§Ù„Ø§Ù†Ø³Ø­Ø§Ø¨ (Ù…Ø­Ø·Ø§Øª Ø§Ù„Ø£Ù…Ø§Ù† - Ø§Ø®ØªÙŠØ§Ø±ÙŠØ©)
                if(currentLevel >= 10) prizeAmount = prizes[9];
                else if(currentLevel >= 5) prizeAmount = prizes[4];
                else prizeAmount = 0;
            }
            
            scoreDisplay.innerText = prizeAmount.toLocaleString();
        }

        function restartGame() {
            currentLevel = 0;
            document.getElementById('end-screen').style.display = 'none';
            // Ø¥Ø¹Ø§Ø¯Ø© ØªÙØ¹ÙŠÙ„ ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©
            document.getElementById('btn-5050').disabled = false;
            document.getElementById('btn-skip').disabled = false;
            initGame();
        }

        // ØªØ´ØºÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        window.onload = initGame;

    </script>
</body>
</html>
